<!-- <div class="profile-cursos bg-black-alpha-90 mt-2">
    <h2>Cursos que est√°s siguiendo</h2>
    <ul>
      <li *ngFor="let curso of cursos">{{ curso }}</li>
    </ul>
</div>
 -->

<div *ngIf="id_rol === 1" class="p-4 tab-container">
  <p-tabView styleClass="justify-content-center	">
    <p-tabPanel header="Tus cursos">
      <p-dataView #dv [value]="cursos" [rows]="4" [paginator]="true">
        <ng-template pTemplate="list" let-cursos>
          <div class="grid grid-nogutter">
            <div
              class="col-12"
              *ngFor="let curso of cursos; let first = first"
              class="col-12 cursor-pointer"
              [routerLink]="['/cursos/', curso?.id_curso?.id_curso]"
            >
              <div
                class="flex flex-column sm:flex-row sm:align-cursos-center p-4 gap-3"
                [ngClass]="{ 'border-top-1 surface-border': !first }"
              >
                <div class="md:w-10rem relative">
                  <img
                    class="block xl:block mx-auto border-round w-full"
                    [src]="getPortadaBase64(curso?.id_curso?.portada_curso)"
                    [alt]=""
                  />
                </div>
                <div
                  class="flex flex-column md:flex-row justify-content-between md:align-cursos-center flex-1 gap-4"
                >
                  <div
                    class="flex flex-row md:flex-column justify-content-between align-cursos-start gap-2"
                  >
                    <div>
                      <div class="text-lg font-medium text-900 mt-2 text-white">
                        {{ curso?.id_curso?.nombre_curso }}
                      </div>
                      <span class="font-medium text-secondary text-sm">{{
                        curso?.id_curso?.descripcion_curso
                      }}</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </ng-template>
      </p-dataView>
    </p-tabPanel>
    <p-tabPanel header="Tus estadisticas">
      <p-chart
        type="bar"
        [data]="barChartData"
        [options]="barChartOptions"
      ></p-chart>
    </p-tabPanel>
  </p-tabView>
</div>

<div *ngIf="id_rol === 2" class="p-4 tab-container">
  <h1 class="text-white">Cursos que has creado</h1>
  <p-dataView
    #dv
    [value]="cursos"
    [rows]="4"
    [paginator]="true"
    [ngStyle]="{ 'background-color': '#303030' }"
  >
    <ng-template pTemplate="list" let-cursos>
      <div class="grid grid-nogutter">
        <div
          class="col-12"
          *ngFor="let curso of cursos; let first = first"
          class="col-12 cursor-pointer"
          [routerLink]="['/cursos/', curso?.id_curso]"
        >
          <div
            class="flex flex-column sm:flex-row sm:align-cursos-center p-4 gap-3"
            [ngClass]="{ 'border-top-1 surface-border': !first }"
          >
            <div class="md:w-10rem relative">
              <img
                class="block xl:block mx-auto border-round w-full"
                [src]="getPortadaBase64(curso?.portada_curso)"
                [alt]=""
              />
            </div>
            <div
              class="flex flex-column md:flex-row justify-content-between md:align-cursos-center flex-1 gap-4"
            >
              <div
                class="flex flex-row md:flex-column justify-content-between align-cursos-start gap-2"
              >
                <div>
                  <div class="text-lg font-medium text-900 mt-2 text-white">
                    {{ curso?.nombre_curso }}
                  </div>
                  <span class="font-medium text-secondary text-sm">{{
                    curso?.descripcion_curso
                  }}</span>
                  <span
                    class="font-medium text-secondary text-sm"
                    *ngIf="curso?.con_certificacion"
                    ><h4>Incluye certificacion</h4></span
                  >
                </div>
              </div>
            </div>
            <div class="flex flex-column md:align-items-end gap-5">
              <span class="text-xl font-semibold text-900 text-white">{{
                "$" + curso?.precio_curso
              }}</span>
              <div
                class="flex flex-row-reverse md:flex-row gap-2"
                *ngIf="curso?.premium_curso"
              >
                <i
                  class="pi pi-crown text-yellow-600"
                  style="font-size: 3em"
                ></i>
              </div>
              <div
                class="flex flex-row-reverse md:flex-row gap-2"
                *ngIf="!curso?.premium_curso"
              >
                <h3>Gratis</h3>
              </div>
            </div>
          </div>
        </div>
      </div>
    </ng-template>
  </p-dataView>
  <div class="mr-auto ml-auto mt-4">
    <button
      [routerLink]="['/cursos/create/step-1']"
      pButton
      class="cursor-pointer border-round text-black-alpha-90 bg-white-alpha-30 text-xl p-3 w-11rem font-semibold align border-transparent justify-content-center"
    >
      Crear un nuevo curso
    </button>
  </div>
</div>
